<ion-header translucent>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/pages/dashboard"></ion-back-button>
    </ion-buttons>
    <ion-title>Details</ion-title>
  </ion-toolbar>
  
</ion-header>
<div class="loader" *ngIf="loaded" >
  <img src="./../../../assets/images/loading.gif" width="30%" height="25%" alt="loading">
</div>

<ion-content *ngIf="!loaded" fullscreen>
  <ion-card-header class="header pt-2 pb-2">
    <h4 class="modal-title" id="modal-basic-title">{{item.name}}</h4>
  </ion-card-header>
  <div class="row col-12 m-0 mt-2 p-0">
    <ion-item lines="full">
      <ion-label><span>Code -</span><span class="pval">{{item['index_nm']}}</span></ion-label>
    </ion-item>
    <ion-item lines="full">
      <ion-label><span>Price -</span><span class="pval">{{item['value']}}</span></ion-label>
    </ion-item>
    <ion-item lines="full">
      <ion-label><span>Market -</span><span class="pval">{{item['market']}}</span></ion-label>
    </ion-item>
    <ion-item lines="full">
      <ion-label><span>Currancy -</span><span class="pval">{{item['currency']}}</span></ion-label>
    </ion-item>
    
    
  </div>   
  <form class="" [formGroup]="alertForm" (ngSubmit)="onSubmit()">
        
    <ion-item lines="full">
      <ion-label position="floating">Target Value</ion-label>
      <ion-input type="text" placeholder="target" formControlName="target" autofocus required></ion-input>
      <div *ngIf="submitted && f.target.errors" class="invalid-feedback">
        <div *ngIf="f.target.errors.required">Target is required</div>
        <div *ngIf="f.target.errors.number">Target must be a valid number</div>

      </div>
    </ion-item>

    <ion-item lines="full">
      <ion-label position="floating">Stop Loss Value</ion-label>
      <ion-input type="text" placeholder="Stop Loss" formControlName="stoplosss" autofocus ></ion-input>
      <div *ngIf="submitted && f.stoploss.errors" class="invalid-feedback">
        <div *ngIf="f.stoploss.errors.required">Stop Loss is required</div>
        <div *ngIf="f.stoploss.errors.number">Stop Loss must be a valid number</div>

      </div>
    </ion-item>
                   


    <ion-row class="row d-flex justify-content-end">
        <button type="submit" [disabled]="loading" class="mt-3 col-sm-2 col-xs-12 btn btn-primary">Save</button>
    </ion-row>
 
  </form>   

</ion-content>